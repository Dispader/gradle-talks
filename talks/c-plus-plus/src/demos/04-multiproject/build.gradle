project(":greeter") {
    apply plugin: 'cpp-lib'

    libraries {
        main {
            binaries.all {
                define 'DLL_EXPORT'
            }
        }
    }
}

project(":ui") {
    apply plugin: 'cpp-exe'

    cpp {
        sourceSets {
            main {
                lib project(":greeter").libraries.main
            }
        }
    }

	task run(type: Exec, dependsOn: installMainExecutable) {
		commandLine "${installMainExecutable.destinationDir}/ui"
	}
}
